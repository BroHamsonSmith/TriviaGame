<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">

</head>

<body>
  <div class="container">
  </div>
  <a class="waves-effect waves-light btn-large finishQuiz">Finish</a>>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>


  <script>
    let questions = [
      {
        id: 0,
        question: 'What is the capitol of Kentucky',
        choices: ['Frankfort', 'Louisville', 'Padacuh', 'Bowling Green', 'Lexington'],
        correct: 'Frankfort'
      },
      {
        id: 1,
        question: 'How much saliva does the human mouth produce per day',
        choices: ['15 Ounces', '4 Ounces', '1 liter', '12 Ounces', '8 Ounces'],
        correct: '1 liter'
      },
      {
        id: 2,
        question: 'What is the only food that will never spoil',
        choices: ['Wheat', 'Ginger', 'Pickles', 'Honey', 'Corn'],
        correct: 'Honey'
      },
      {
        id: 3,
        question: 'What was the first toy to be advertised on TV',
        choices: ['Slinky', 'Mr. Potato Head', 'Legos', 'GI Joe', 'Barbies'],
        correct: 'Mr. Potato Head'
      },
      {
        id: 4,
        question: 'What is the medical term for your butt crack',
        choices: ['inner gluteous', 'intergluteal cleft', 'minius gluteous', 'adductor brevis', 'tensor fasciae latae'],
        correct: 'intergluteal cleft'
      }
    ]

    questions.forEach(question => {
      $('.container').append(`
      <div class="row">
        <h5 class="question">${question.question}</h5>
          <p>
            <label>
              <input class="choice" data-choice="${question.choices[0]} name="question-${question.id}" type="radio" checked />
              <span>${question.choices[0]}</span>
            </label>
          </p>
          <p>
            <label>
              <input class="choice" data-choice="${question.choices[1]} name="question-${question.id}" type="radio" checked />
              <span>${question.choices[1]}</span>
            </label>
          </p>
          <p>
            <label>
              <input class="choice" data-choice="${question.choices[2]} name="question-${question.id}" type="radio" checked />
              <span>${question.choices[2]}</span>
             </label>
          </p>
          <p>
            <label>
              <input class="choice" data-choice="${question.choices[3]} name="question-${question.id}" type="radio" checked />
              <span>${question.choices[3]}</span>
             </label>
           </p>
           <p>
             <label>
               <input class="choice" data-choice="${question.choices[4]} name="question-${question.id}" type="radio" checked />
               <span>${question.choices[4]}</span>
            </label>
          </p>
          <p class="answer-${question.id}" style="visibility: hidden">${question.correct}</p>
        </div>      
      `)
    })
    
    var qChoice0
    var qChoice1
    var qChoice2
    var qChoice3
    var qChoice4

    $(document).on('click', '.choice', function () {
      console.log($(this).attr('name'))
      console.log($(this).attr('data-choice'))
      let temp = $(this).attr('name').split('-')
      let qId = temp[1]
      window[`qChoices${qId}`] = $(this).attr('data-choice')
    })

    $('.finishQuiz').on('click', function () {
      count = 0
      for (let i = 0; i < questions.length; i++) {
        $(`answer-${i}`).css('visibility', 'visible')
      if (window[`qChoices${i}`] === questions[i].correct) {
        count++  
        }
      }
      if (count === 5) {
        alert('Perfect Score!')
      } else {
        alert('Close, Try Again!')
      }
    })

  </script>

</body>

</html>